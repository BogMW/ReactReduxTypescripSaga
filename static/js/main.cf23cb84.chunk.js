(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),i=n(9),s=n(23),l=n.n(s),u=n(39),d=n(18),p=n(70),m=n(11),b=n.n(m),f=n(17),v=n(10),g=n(74),h={history:(null!==localStorage.getItem("appHistory")&&void 0!==localStorage.getItem("appHistory")?JSON.parse(localStorage.getItem("appHistory")||"{}"):{history:[]}).history||[]},O=Object(f.c)({name:"historyReducer",initialState:h,reducers:{setHistory:function(e,t){e.history=[].concat(Object(g.a)(e.history),[t.payload])}}}),y=O.actions.setHistory,E=O.reducer,j=Object(f.c)({name:"loadingReducer",initialState:{isLoading:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1}}}),_=j.actions,w=_.startLoading,x=_.stopLoading,N=j.reducer,k=n(31),R=n(24),S=n.n(R),T=S.a.create({baseURL:window.API_BASE_URL});S.a.defaults.headers.post["Content-Type"]="application/json";var C=S.a.interceptors.request.use((function(e){return console.log("[INTERCEPTOR_REQUEST]:",e),e}),(function(e){return console.log("[INTERCEPTOR_REQUEST][ERROR]:",e),Promise.reject(e)}));S.a.interceptors.request.eject(C);var H=S.a.interceptors.response.use((function(e){return console.log("[INTERCEPTOR_RESPONSE]:",e),e}),(function(e){return console.log("[INTERCEPTOR_RESPONSE][ERROR]:",e),Promise.reject(e)}));S.a.interceptors.response.eject(H);var I=S.a.CancelToken,P=T,W=b.a.mark(L);function L(){var e,t,n,a=arguments;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},t=I.source(),r.prev=2,r.next=5,Object(v.b)(P.request,Object(k.a)({cancelToken:t.token},e));case 5:return n=r.sent,r.abrupt("return",n.data);case 7:return r.prev=7,r.next=10,Object(v.c)();case 10:if(!r.sent){r.next=12;break}t.cancel();case 12:return r.finish(7);case 13:case"end":return r.stop()}}),W,null,[[2,,7,13]])}var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(Object(k.a)({method:"post",url:e},t))},F={get:function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(Object(k.a)({method:"get",url:e,params:Object(k.a)({},t)},n))}(e,t,n)},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A(e,t,n)}};function D(e){return F.get("https://api.nationalize.io/?name=".concat(e))}function B(e){return F.get("https://api.genderize.io/?name=".concat(e))}var U=n(35),G=b.a.mark(M);function M(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error(e),t.next=3,Object(U.b)(s.toastr.error,"Server error",e.message);case 3:case"end":return t.stop()}}),G)}var Q=b.a.mark(q);function q(e){var t,n,a,r,c;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(v.e)(w());case 3:return o.t0=v.a,o.t1=Object(v.b)(D,e.payload),o.next=7,Object(v.b)(B,e.payload);case 7:return o.t2=o.sent,o.t3=[o.t1,o.t2],o.next=11,(0,o.t0)(o.t3);case 11:if(t=o.sent,n=Object(u.a)(t,2),a=n[0],r=n[1],!(a.country.length>0&&""!==r.gender)){o.next=22;break}return c={id:Date.now(),name:a.name,gender:r.gender,country:a.country[0].country_id},o.next=20,Object(v.e)(y(c));case 20:o.next=24;break;case 22:return o.next=24,Object(v.b)(s.toastr.info,"Information","There are no data for such name");case 24:return o.next=26,Object(v.e)(te(r));case 26:return o.next=28,Object(v.e)(ee(a));case 28:o.next=34;break;case 30:return o.prev=30,o.t4=o.catch(0),o.next=34,Object(v.b)(M,o.t4);case 34:return o.prev=34,o.next=37,Object(v.e)(x());case 37:return o.finish(34);case 38:case"end":return o.stop()}}),Q,null,[[0,30,34,38]])}var z=b.a.mark(K),J=b.a.mark(V),Y={nationality:{name:"",country:[{country_id:"",probability:0}]},gender:{name:"",gender:"",probability:0,count:0}},X=Object(f.c)({name:"predictReducer",initialState:Y,reducers:{setNationalityData:function(e,t){e.nationality=t.payload},setGenderData:function(e,t){e.gender=t.payload},resetData:function(e){e.nationality=Y.nationality,e.gender=Y.gender}}}),$=Object(f.b)("predict/fetchNationality");function K(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)($,q);case 2:case"end":return e.stop()}}),z)}function V(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)([Object(v.b)(K)]);case 2:case"end":return e.stop()}}),J)}var Z=X.actions,ee=Z.setNationalityData,te=Z.setGenderData,ne=Z.resetData,ae=X.reducer,re=n(19),ce=function(e){return e.predict},oe=Object(re.a)(ce,(function(e){return e.nationality})),ie=Object(re.a)(ce,(function(e){return e.gender})),se=n(20),le=n.n(se);function ue(){var e=Object(d.useDispatch)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(d.useSelector)(oe),s=Object(d.useSelector)(ie),l=Object(a.useMemo)((function(){return Object(p.get)(i,"country[0].country_id","")}),[i]),m=Object(a.useMemo)((function(){return""!==l&&""!==s.gender}),[l,s]),b=Object(a.useMemo)((function(){return"".concat(i.name," is a ").concat(s.gender," name from ").concat(l)}),[i,s,l]),f=Object(a.useCallback)((function(t){e($(t))}),[e]),v=Object(a.useCallback)((function(){e(ne())}),[e]),g=Object(a.useCallback)((function(e){o(e.target.value)}),[]),h=Object(a.useCallback)((function(e){f(c),o("")}),[f,o,c]),O=Object(a.useCallback)((function(){v()}),[v]),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:le.a.inputWrapper},r.a.createElement("label",{className:le.a.label,htmlFor:"name"},"Enter Name:"),r.a.createElement("input",{value:c,className:le.a.input,onChange:g,type:"text",name:"name",id:"name"})),r.a.createElement("div",{className:le.a.submit,onClick:h},r.a.createElement("span",null,"Submit"))),E=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:le.a.inputWrapper},r.a.createElement("div",{className:le.a.label},"You entered: ",r.a.createElement("span",null,i.name))),r.a.createElement("div",{className:le.a.inputWrapper},r.a.createElement("div",{className:le.a.label},"Description: ",r.a.createElement("span",null,b))),r.a.createElement("div",{className:le.a.submit,onClick:O},r.a.createElement("span",null,"Enter Another Name")));return r.a.createElement("div",{className:le.a.wrapper},m?E:y)}var de=n(71),pe=n.n(de),me=(n(148),Object(re.a)((function(e){return e.history}),(function(e){return e.history}))),be=n(30),fe=n.n(be),ve=[{dataField:"name",text:"Name",sort:!0},{dataField:"gender",text:"Gender",sort:!0},{dataField:"country",text:"Country",sort:!0}],ge=function(){var e=Object(d.useSelector)(me);return r.a.createElement("div",{className:fe.a.wrapper},r.a.createElement("div",{className:fe.a.title},"Historical Table"),r.a.createElement("div",{className:fe.a.tableWrapper},r.a.createElement(pe.a,{headerClasses:fe.a.tableHeader,keyField:"id",data:e,columns:ve,striped:!0,hover:!0,condensed:!0})))},he=Object(i.h)((function(){var e=Object(i.g)();return console.dir(e),r.a.createElement(i.d,{location:e},r.a.createElement(i.b,{path:"/predict",exact:!0,component:ue}),r.a.createElement(i.b,{path:"/history",exact:!0,component:ge}),r.a.createElement(i.a,{to:"/predict"}))})),Oe=Object(re.a)((function(e){return e.loading}),(function(e){return e.isLoading})),ye=n(72),Ee=n.n(ye),je=n(73),_e=n.n(je),we=function(){return Object(d.useSelector)(Oe)?r.a.createElement("div",{className:_e.a.loading},r.a.createElement(Ee.a,{type:"Bars",color:"#00BFFF",height:100,width:100})):null},xe=n(37),Ne=n(26),ke=n.n(Ne),Re=[{path:"/predict",label:"Predict"},{path:"/history",label:"History"}],Se=function(){var e=Object(i.g)().pathname;return r.a.createElement("div",{className:ke.a.header},r.a.createElement("div",{className:ke.a.logo},"Prediction App"),r.a.createElement("nav",null,r.a.createElement("div",{className:ke.a.nav},Re.map((function(t){var n=t.path===e;return r.a.createElement("div",null,r.a.createElement(xe.a,{className:n?ke.a.navItemActive:ke.a.navItem,to:"".concat(t.path)},t.label))})))))};n(169);var Te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(we,null),r.a.createElement(l.a,{timeOut:4e3,newestOnTop:!1,preventDuplicates:!0,position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0}),r.a.createElement(Se,null),r.a.createElement(he,null))},Ce=n(75),He=b.a.mark(Ie);function Ie(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)([Object(v.d)(V)]);case 2:case"end":return e.stop()}}),He)}var Pe=Object(Ce.a)(),We=Object(f.a)({reducer:{predict:ae,loading:N,history:E,toastr:s.reducer},middleware:[Pe,function(e){return function(t){return function(n){var a=t(n);return localStorage.setItem("appHistory",JSON.stringify(e.getState().history)),a}}}]});Pe.run(Ie);var Le=n(13),Ae=Object(Le.a)(),Fe=(n(170),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function De(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.Provider,{store:We},r.a.createElement(i.c,{history:Ae},r.a.createElement(Te,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ReactReduxTypescripSaga",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ReactReduxTypescripSaga","/service-worker.js");Fe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):De(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):De(t,e)}))}}()},20:function(e,t,n){e.exports={wrapper:"Predict_wrapper__3qzkT",inputWrapper:"Predict_inputWrapper__2xjra",label:"Predict_label__1dOWd",input:"Predict_input__1NyQ5",submit:"Predict_submit__12C44"}},26:function(e,t,n){e.exports={header:"Header_header__2UBIP",logo:"Header_logo__MzH3p",nav:"Header_nav__2pX7F",navItem:"Header_navItem__3R-S6",navItemActive:"Header_navItemActive__3GjLR"}},30:function(e,t,n){e.exports={wrapper:"History_wrapper__1IfuY",title:"History_title__3hOQF",tableWrapper:"History_tableWrapper__18irQ",tableHeader:"History_tableHeader__1pBG9"}},73:function(e,t,n){e.exports={loading:"Loading_loading__ylxPf"}},77:function(e,t,n){e.exports=n(171)}},[[77,1,2]]]);
//# sourceMappingURL=main.cf23cb84.chunk.js.map